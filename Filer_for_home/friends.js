const friendBlockEl=document['querySelector']('#friends-block');function showSearchFriends(){friendBlockEl['innerHTML']='<div\x20class=\x27d-flex\x20justify-content-between\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22form-control\x20mr-2\x22\x20id=\x27friend-search\x27\x20placeholder=\x22TryHackMe\x20username\x20or\x20email\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-hgreen\x22\x20onclick=\x27searchForFriends()\x27>Search</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<div\x20class=\x27mt-2\x27\x20id=\x27friends-list\x27></div>';}function searchForFriends(){$['getJSON']('/api/get-sim-users/'+document['querySelector']('#friend-search')['value'],async function(_0x20911f){const _0x1f2b78=document['querySelector']('#friends-list');_0x20911f=_0x20911f['splice'](0x0,0x14);if(_0x20911f['length']==0x0)_0x1f2b78['innerHTML']='<div\x20class=\x27text-lgray\x27>No\x20users\x20found..</div>';else{_0x1f2b78['innerHTML']='';for(const _0x193543 of _0x20911f){_0x1f2b78['innerHTML']+='<div\x20class=\x27d-flex\x20justify-content-between\x20align-items-center\x20mt-1\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20alt=\x22image\x22\x20onerror=\x27setBrokenTmpPP(this)\x27\x20class=\x22friend-avatar\x22\x20src=\x22'+_0x193543['avatar']+'\x22>\x20'+_0x193543['username']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20class=\x22btn\x20btn-sm\x20btn-hgreen\x22\x20onclick=\x27addFriend(\x22'+_0x193543['username']+'\x22,\x20\x22username\x22)\x27>Add</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';}}});}function addFriend(_0x354e61,_0x11bc0d){const _0x1d50a5=document['querySelector']('#friends-list');$['post']('/friend/add',{'userProperty':_0x354e61,'userType':_0x11bc0d},function(_0x2ae676){_0x2ae676['success']?(displayMessages('Horray!','success',_0x2ae676['message']),getFriends()):displayMessages('Uh-oh!','danger',_0x2ae676['message']);});}function showEmailFriends(){friendBlockEl['innerHTML']='<div\x20class=\x27d-flex\x20justify-content-between\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22email\x22\x20id=\x27friend-email\x27\x20class=\x22form-control\x20mr-2\x22\x20placeholder=\x22Email\x20address\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20type=\x22button\x22\x20onclick=\x27addFriendViaEmail()\x27\x20class=\x22btn\x20btn-hgreen\x22>Send</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<div\x20class=\x27mt-2\x27\x20id=\x27friends-list\x27>Fill\x20in\x20your\x20friends\x20email\x20address\x20and\x20we\x20will\x20send\x20them\x20a\x20personal\x20invite.</div>';}function addFriendViaEmail(){const _0x2590b6=document['querySelector']('#friend-email')['value'];addFriend(_0x2590b6,'email');}function deleteFriend(_0x328ca4){$['post']('/friend/delete',{'friendUsername':_0x328ca4},function(_0x173c82){_0x173c82['success']?(displayMessages('','success',_0x173c82['message']),getFriends()):displayMessages('Uh-oh!','danger',_0x173c82['message']);});}function getFriends(){$['getJSON']('/friend/all',async function(_0x186905){if(_0x186905['length']>0x0){_0x186905=_0x186905['sort'](function(_0x102436,_0xe814c5){return _0xe814c5['totalPoints']-_0x102436['totalPoints'];});let _0x2249af='',_0x18a2dd=0x1;for(const _0x138843 of _0x186905){let _0x525374='-';if(Object['keys'](_0x138843['lastRoom'])['length']>0x0)_0x525374='<a\x20class=\x27clear-link\x27\x20href=\x27/room/'+_0x138843['lastRoom']['code']+'\x27>'+_0x138843['lastRoom']['title']+'</a>';let _0xaf88e4='';if(username!=_0x138843['username'])_0xaf88e4='<td\x20class=\x27friend-delete\x27><span\x20onclick=\x27deleteFriend(\x22'+_0x138843['username']+'\x22)\x27><i\x20class=\x22far\x20fa-times\x22></i></td>';_0x2249af+='<tr\x20class=\x27friend-row\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x27bold\x27>'+_0x18a2dd++ +'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20clas=\x27friend-avatar-w\x27><img\x20alt=\x22image\x22\x20class=\x22friend-avatar\x22\x20src=\x22'+_0x138843['avatar']+'\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x27friend-username\x27><a\x20class=\x27green-link\x27\x20href=\x27/p/'+_0x138843['username']+'\x27>'+_0x138843['username']+'</a></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x27text-right\x27><span\x20class=\x22badge\x20badge-soft-success\x20friend-stat\x22>'+_0x138843['streak']+'\x20<i\x20class=\x22fas\x20fa-fire-alt\x20hacker-green\x20faded\x22></i></span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x27text-right\x27><span\x20class=\x22badge\x20badge-soft-warning\x20friend-stat\x22>'+_0x138843['totalPoints']+'\x20<i\x20class=\x22fas\x20fa-crosshairs\x20text-orange\x20faded\x22></i></span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x27text-center\x20friend-lastroom\x27>'+_0x525374+'</span></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xaf88e4+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>';}friendBlockEl['innerHTML']='<table\x20class=\x22table\x20table-sm\x20no-border\x20m-0\x22><tbody>'+_0x2249af+'</tbody></table>';}else friendBlockEl['innerHTML']='Hack\x20with\x20your\x20friends';});}