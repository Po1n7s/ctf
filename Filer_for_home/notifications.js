function readNotifications(){return new Promise(function(_0x4dbd12,_0x58cd60){$['post']('/notifications/read',{},async function(_0x46951a){});});}function getNotifications(){return new Promise(function(_0x4a33f1,_0x1c6590){$['getJSON']('/notifications/get',async function(_0x1d945b){return _0x4a33f1(_0x1d945b);});});}function getUnreadMessages(){return new Promise(function(_0x232d14,_0x4aca6e){$['getJSON']('/message/get-unseen',async function(_0x58636e){return _0x232d14(_0x58636e);});});}const notificationEl=document['querySelector']('#nav-notifications');function populateNotifications(_0x292faf){if(_0x292faf['length']>0x0){const _0x4d214b=_0x292faf['filter'](_0x54881a=>_0x54881a['read']==![]);_0x4d214b['length']>0x0?(document['querySelector']('#notification-dot')['style']['display']='block',document['querySelector']('#notification-icon')['className']+='\x20animated\x20swing'):readNotificationsReq=!![];notificationEl['innerHTML']='',notificationEl['style']['padding']='0';for(const _0x30c8d2 of _0x292faf){let _0x3f50e0;if(_0x30c8d2['icon']=='default'||_0x30c8d2['icon']['length']==0x0)_0x3f50e0='<i\x20class=\x22fad\x20fa-info-square\x20small\x20text-blue\x20size-14\x22></i>';else{if(_0x30c8d2['icon']=='congrats')_0x3f50e0='<img\x20height=\x2218\x22\x20src=\x22https://assets.tryhackme.com/img/icons/confetti.png\x22>';else _0x30c8d2['icon']=='message'?_0x3f50e0='<img\x20height=\x2218\x22\x20src=\x22https://assets.tryhackme.com/img/icons/message.png\x22>':_0x3f50e0='<img\x20alt=\x22icon\x22\x20class=\x22avatar-tiny\x22\x20src=\x22'+_0x30c8d2['icon']+'\x22>';}let _0x157753='<div\x20class=\x22row\x20notification\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-auto\x20text-center\x22>'+_0x3f50e0+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col\x20p-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>'+_0x30c8d2['description']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27size-12\x20faded\x20mt-1\x27>'+prettifyShd(_0x30c8d2['created'])+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';notificationEl['innerHTML']+=_0x157753;}}else notificationEl['innerHTML']='<div\x20class=\x22text-center\x20mt-2\x20mb-2\x22>You\x20have\x20no\x20notifications</div>';}async function initNotifications(){const _0x15a8f8=await getNotifications(),_0x3c4357=await getUnreadMessages();_0x3c4357['unseen']['length']>0x0&&_0x15a8f8['unshift']({'created':_0x3c4357['unseen'][0x0]['inserted'],'description':'You\x20have\x20'+_0x3c4357['unseen']['length']+'\x20<a\x20href=\x22/messages\x22>unread\x20conversation(s)</a>.','icon':'message','read':![]}),populateNotifications(_0x15a8f8);}let readNotificationsReq=![];document['querySelector']('#notification-btn')['addEventListener']('click',function(){$('#notification-dot')['fadeOut'](0x1f4),!readNotificationsReq&&(readNotifications(),readNotificationsReq=!![]);}),$(document)['ready'](async function(){setTimeout(function(){initNotifications();},0x1f4);});